{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\annar\\\\OneDrive\\\\Documents\\\\react-web-component\\\\dundret-status-components\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\annar\\\\OneDrive\\\\Documents\\\\react-web-component\\\\dundret-status-components\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\annar\\\\OneDrive\\\\Documents\\\\react-web-component\\\\dundret-status-components\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import LiftsOpen from'../Presentation/LiftsOpen';import Temperature from'../Presentation/Temperature';import WebCam from'../Presentation/WebCam';import Wind from'../Presentation/Wind';function Status(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),barnLift=_useState2[0],setBarnLift=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),expr=_useState4[0],setExpr=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),fjl=_useState6[0],setFjl=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),mellanLift=_useState8[0],setMellanLift=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),liikavaara=_useState10[0],setLiikavaara=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),temp=_useState12[0],setTemp=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),windSpeed=_useState14[0],setWindSpeed=_useState14[1];useEffect(function(){fetchData();},[]);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://api.dundretlapland.com/backstatus.php\");case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"HTTP Error! Status: \".concat(response.status));case 6:_context.next=8;return response.json();case 8:data=_context.sent;setBarnLift(data.BB_DRIFT.Value);setExpr(data.EX_DRIFT.Value);setFjl(data.FJL_DRIFT.Value);setMellanLift(data.ML_DRIFT.Value);setLiikavaara(data.SL_DRIFT.Value);setTemp(data.TT_DAL_PV.Value);setWindSpeed(data.WS_DAL_PV.Value);_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[0,18]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"api-component dundret-status\"},/*#__PURE__*/React.createElement(Temperature,{temp:temp}),/*#__PURE__*/React.createElement(Wind,{windSpeed:windSpeed}),/*#__PURE__*/React.createElement(LiftsOpen,{barnLift:barnLift,expr:expr,fjl:fjl,mellanLift:mellanLift,liikavaara:liikavaara}),/*#__PURE__*/React.createElement(WebCam,null));}export default Status;","map":{"version":3,"sources":["C:/Users/annar/OneDrive/Documents/react-web-component/dundret-status-components/src/direflow-components/dundret-status-components/Logic/Status.js"],"names":["React","useEffect","useState","LiftsOpen","Temperature","WebCam","Wind","Status","barnLift","setBarnLift","expr","setExpr","fjl","setFjl","mellanLift","setMellanLift","liikavaara","setLiikavaara","temp","setTemp","windSpeed","setWindSpeed","fetchData","fetch","response","ok","Error","status","json","data","BB_DRIFT","Value","EX_DRIFT","FJL_DRIFT","ML_DRIFT","SL_DRIFT","TT_DAL_PV","WS_DAL_PV","console","log"],"mappings":"gnBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CAEA,QAASC,CAAAA,MAAT,EAAkB,CAChB,cAAgCL,QAAQ,EAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAAwBP,QAAQ,EAAhC,yCAAOQ,IAAP,eAAaC,OAAb,eACA,eAAsBT,QAAQ,EAA9B,yCAAOU,GAAP,eAAYC,MAAZ,eACA,eAAoCX,QAAQ,EAA5C,yCAAOY,UAAP,eAAmBC,aAAnB,eACA,eAAoCb,QAAQ,EAA5C,0CAAOc,UAAP,gBAAmBC,aAAnB,gBACA,gBAAwBf,QAAQ,EAAhC,2CAAOgB,IAAP,gBAAaC,OAAb,gBACA,gBAAkCjB,QAAQ,EAA1C,2CAAOkB,SAAP,gBAAkBC,YAAlB,gBAEApB,SAAS,CAAC,UAAM,CACdqB,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,SAAS,0FAAG,2LAESC,CAAAA,KAAK,CAAC,+CAAD,CAFd,QAERC,QAFQ,kBAITA,QAAQ,CAACC,EAJA,8BAKN,IAAIC,CAAAA,KAAJ,+BAAiCF,QAAQ,CAACG,MAA1C,EALM,8BAQKH,CAAAA,QAAQ,CAACI,IAAT,EARL,QAQRC,IARQ,eASdpB,WAAW,CAACoB,IAAI,CAACC,QAAL,CAAcC,KAAf,CAAX,CACApB,OAAO,CAACkB,IAAI,CAACG,QAAL,CAAcD,KAAf,CAAP,CACAlB,MAAM,CAACgB,IAAI,CAACI,SAAL,CAAeF,KAAhB,CAAN,CACAhB,aAAa,CAACc,IAAI,CAACK,QAAL,CAAcH,KAAf,CAAb,CACAd,aAAa,CAACY,IAAI,CAACM,QAAL,CAAcJ,KAAf,CAAb,CACAZ,OAAO,CAACU,IAAI,CAACO,SAAL,CAAeL,KAAhB,CAAP,CACAV,YAAY,CAACQ,IAAI,CAACQ,SAAL,CAAeN,KAAhB,CAAZ,CAfc,iFAmBdO,OAAO,CAACC,GAAR,cAnBc,qEAAH,kBAATjB,CAAAA,SAAS,0CAAf,CAuBA,mBACE,2BAAK,SAAS,CAAC,8BAAf,eACE,oBAAC,WAAD,EAAa,IAAI,CAAEJ,IAAnB,EADF,cAEE,oBAAC,IAAD,EAAM,SAAS,CAAEE,SAAjB,EAFF,cAGE,oBAAC,SAAD,EACE,QAAQ,CAAEZ,QADZ,CAEE,IAAI,CAAEE,IAFR,CAGE,GAAG,CAAEE,GAHP,CAIE,UAAU,CAAEE,UAJd,CAKE,UAAU,CAAEE,UALd,EAHF,cAUE,oBAAC,MAAD,MAVF,CADF,CAcD,CAED,cAAeT,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport LiftsOpen from '../Presentation/LiftsOpen';\r\nimport Temperature from '../Presentation/Temperature';\r\nimport WebCam from '../Presentation/WebCam';\r\nimport Wind from '../Presentation/Wind';\r\n\r\nfunction Status() {\r\n  const [barnLift, setBarnLift] = useState();\r\n  const [expr, setExpr] = useState();\r\n  const [fjl, setFjl] = useState();\r\n  const [mellanLift, setMellanLift] = useState();\r\n  const [liikavaara, setLiikavaara] = useState();\r\n  const [temp, setTemp] = useState();\r\n  const [windSpeed, setWindSpeed] = useState();\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await fetch(\"https://api.dundretlapland.com/backstatus.php\");\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP Error! Status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      setBarnLift(data.BB_DRIFT.Value);\r\n      setExpr(data.EX_DRIFT.Value);\r\n      setFjl(data.FJL_DRIFT.Value);\r\n      setMellanLift(data.ML_DRIFT.Value);\r\n      setLiikavaara(data.SL_DRIFT.Value);\r\n      setTemp(data.TT_DAL_PV.Value);\r\n      setWindSpeed(data.WS_DAL_PV.Value);\r\n      \r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='api-component dundret-status'>\r\n      <Temperature temp={temp} />\r\n      <Wind windSpeed={windSpeed} />\r\n      <LiftsOpen \r\n        barnLift={barnLift}\r\n        expr={expr}\r\n        fjl={fjl}\r\n        mellanLift={mellanLift}\r\n        liikavaara={liikavaara}      \r\n      />\r\n      <WebCam />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Status\r\n"]},"metadata":{},"sourceType":"module"}