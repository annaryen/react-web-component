{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\annar\\\\OneDrive\\\\Documents\\\\react-web-component\\\\dundret-status-components\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\annar\\\\OneDrive\\\\Documents\\\\react-web-component\\\\dundret-status-components\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\annar\\\\OneDrive\\\\Documents\\\\react-web-component\\\\dundret-status-components\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Liftar from'../Presentation/Liftar';import Weather from'../Presentation/Weather';function Status(){// Drift status OPEN for lifts\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),barnLift=_useState2[0],setBarnLift=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),expr=_useState4[0],setExpr=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),fjl=_useState6[0],setFjl=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),mellanLift=_useState8[0],setMellanLift=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),liikavaara=_useState10[0],setLiikavaara=_useState10[1];// Drift status READY for lifts\nvar _useState11=useState(),_useState12=_slicedToArray(_useState11,2),barnReady=_useState12[0],setBarnReady=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),exprReady=_useState14[0],setExprReady=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),fjlReady=_useState16[0],setFjlReady=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),mellanReady=_useState18[0],setMellanReady=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),liikavaaraReady=_useState20[0],setLiikavaaraReady=_useState20[1];// Weather\nvar _useState21=useState(),_useState22=_slicedToArray(_useState21,2),temp=_useState22[0],setTemp=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),coldEffect=_useState24[0],setColdEffect=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),windSpeed=_useState26[0],setWindSpeed=_useState26[1];useEffect(function(){fetchData();},[]);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://api.dundretlapland.com/backstatus.php\");case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"HTTP Error! Status: \".concat(response.status));case 6:_context.next=8;return response.json();case 8:data=_context.sent;// Lift drift\nsetBarnLift(data.BB_DRIFT.Value);setExpr(data.EX_DRIFT.Value);setFjl(data.FJL_DRIFT.Value);setMellanLift(data.ML_DRIFT.Value);setLiikavaara(data.SL_DRIFT.Value);// Weahter\nsetTemp(data.TT_DAL_PV.Value);setColdEffect(data.WC_DAL_PV.Value);setWindSpeed(data.WS_DAL_PV.Value);// Lift Ready\nsetBarnReady(data.BB_STARTKLAR.Value);setExprReady(data.EX_STARTKLAR.Value);setFjlReady(data.FJL_STARTKLAR.Value);setMellanReady(data.ML_STARTKLAR.Value);setLiikavaaraReady(data.SL_STARTKLAR.Value);_context.next=27;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 27:case\"end\":return _context.stop();}}},_callee,null,[[0,24]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(Weather,{temp:temp,coldEffect:coldEffect,windSpeed:windSpeed}),/*#__PURE__*/React.createElement(Liftar,{barnLift:barnLift,expr:expr,fjl:fjl,mellanLift:mellanLift,liikavaara:liikavaara,barnReady:barnReady,exprReady:exprReady,fjlReady:fjlReady,mellanReady:mellanReady,liikavaaraReady:liikavaaraReady}));}export default Status;","map":{"version":3,"sources":["C:/Users/annar/OneDrive/Documents/react-web-component/dundret-status-components/src/direflow-components/dundret-idag/Logic/Status.js"],"names":["React","useState","useEffect","Liftar","Weather","Status","barnLift","setBarnLift","expr","setExpr","fjl","setFjl","mellanLift","setMellanLift","liikavaara","setLiikavaara","barnReady","setBarnReady","exprReady","setExprReady","fjlReady","setFjlReady","mellanReady","setMellanReady","liikavaaraReady","setLiikavaaraReady","temp","setTemp","coldEffect","setColdEffect","windSpeed","setWindSpeed","fetchData","fetch","response","ok","Error","status","json","data","BB_DRIFT","Value","EX_DRIFT","FJL_DRIFT","ML_DRIFT","SL_DRIFT","TT_DAL_PV","WC_DAL_PV","WS_DAL_PV","BB_STARTKLAR","EX_STARTKLAR","FJL_STARTKLAR","ML_STARTKLAR","SL_STARTKLAR","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Liftar from '../Presentation/Liftar';\r\nimport Weather from '../Presentation/Weather';\r\n\r\nfunction Status() {\r\n  // Drift status OPEN for lifts\r\n  const [barnLift, setBarnLift] = useState();\r\n  const [expr, setExpr] = useState();\r\n  const [fjl, setFjl] = useState();\r\n  const [mellanLift, setMellanLift] = useState();\r\n  const [liikavaara, setLiikavaara] = useState();\r\n\r\n  // Drift status READY for lifts\r\n  const [barnReady, setBarnReady] = useState();\r\n  const [exprReady, setExprReady] = useState();\r\n  const [fjlReady, setFjlReady] = useState();\r\n  const [mellanReady, setMellanReady] = useState();\r\n  const [liikavaaraReady, setLiikavaaraReady] = useState();\r\n\r\n  // Weather\r\n  const [temp, setTemp] = useState();\r\n  const [coldEffect, setColdEffect] = useState();\r\n  const [windSpeed, setWindSpeed] = useState();\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await fetch(\"https://api.dundretlapland.com/backstatus.php\");\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP Error! Status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      // Lift drift\r\n      setBarnLift(data.BB_DRIFT.Value);\r\n      setExpr(data.EX_DRIFT.Value);\r\n      setFjl(data.FJL_DRIFT.Value);\r\n      setMellanLift(data.ML_DRIFT.Value);\r\n      setLiikavaara(data.SL_DRIFT.Value);\r\n      // Weahter\r\n      setTemp(data.TT_DAL_PV.Value);\r\n      setColdEffect(data.WC_DAL_PV.Value);\r\n      setWindSpeed(data.WS_DAL_PV.Value);\r\n      // Lift Ready\r\n      setBarnReady(data.BB_STARTKLAR.Value);\r\n      setExprReady(data.EX_STARTKLAR.Value);\r\n      setFjlReady(data.FJL_STARTKLAR.Value);\r\n      setMellanReady(data.ML_STARTKLAR.Value);\r\n      setLiikavaaraReady(data.SL_STARTKLAR.Value);\r\n      \r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n       <Weather \r\n        temp={temp}\r\n        coldEffect={coldEffect}\r\n        windSpeed={windSpeed}\r\n      />\r\n      <Liftar \r\n        barnLift={barnLift}\r\n        expr={expr}\r\n        fjl={fjl}\r\n        mellanLift={mellanLift}\r\n        liikavaara={liikavaara}\r\n        barnReady={barnReady}\r\n        exprReady={exprReady}\r\n        fjlReady={fjlReady}\r\n        mellanReady={mellanReady}\r\n        liikavaaraReady={liikavaaraReady}\r\n      />\r\n    \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Status\r\n"]},"metadata":{},"sourceType":"module"}